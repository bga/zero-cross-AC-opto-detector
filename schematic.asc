Version 4
SHEET 1 1460 692
WIRE 544 -32 544 -64
WIRE 640 -32 640 -64
WIRE -592 32 -608 32
WIRE -480 32 -512 32
WIRE -368 32 -480 32
WIRE -112 32 -368 32
WIRE 640 64 640 48
WIRE 704 64 640 64
WIRE 640 80 640 64
WIRE -192 96 -208 96
WIRE -112 96 -112 32
WIRE -112 96 -128 96
WIRE -96 96 -112 96
WIRE -16 96 -32 96
WIRE 32 96 -16 96
WIRE 144 96 112 96
WIRE 256 96 208 96
WIRE 256 112 256 96
WIRE 288 112 256 112
WIRE 544 112 544 48
WIRE 544 112 480 112
WIRE 608 112 544 112
WIRE -480 128 -480 32
WIRE -608 144 -608 32
WIRE -368 144 -368 32
WIRE -112 144 -112 96
WIRE -256 160 -304 160
WIRE -208 160 -208 96
WIRE -208 160 -256 160
WIRE -304 192 -304 160
WIRE 288 208 256 208
WIRE 512 208 480 208
WIRE -208 240 -208 160
WIRE -192 240 -208 240
WIRE -112 240 -112 208
WIRE -112 240 -128 240
WIRE -96 240 -112 240
WIRE -16 240 -16 96
WIRE -16 240 -32 240
WIRE 32 240 16 240
WIRE 256 240 256 208
WIRE 256 240 112 240
WIRE 512 288 512 208
WIRE 640 288 640 144
WIRE -608 304 -608 224
WIRE -480 304 -480 208
WIRE -480 304 -608 304
WIRE -368 304 -368 224
WIRE -368 304 -480 304
WIRE -112 304 -112 240
WIRE -112 304 -368 304
WIRE 160 320 160 288
WIRE -256 368 -256 160
WIRE 16 368 16 240
WIRE 16 368 -256 368
WIRE 160 432 160 400
FLAG 512 288 0
FLAG 160 432 0
FLAG 704 64 out
IOPIN 704 64 Out
FLAG -304 192 0
FLAG 160 288 COM
FLAG 640 -64 COM
FLAG 544 -64 COM
FLAG 640 288 0
SYMBOL voltage -480 112 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
WINDOW 3 4 -5 Left 2
SYMATTR InstName V1
SYMATTR Value SINE(0 230 50)
SYMBOL Optos\\PC817A 384 160 R0
SYMATTR InstName U1
SYMBOL res 528 -48 R0
SYMATTR InstName R1
SYMATTR Value 10k
SYMBOL voltage 160 304 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V2
SYMATTR Value 5
SYMBOL res 128 80 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R3
SYMATTR Value { R }
SYMBOL res 128 224 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R4
SYMATTR Value { R }
SYMBOL diode -192 112 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 64 -23 VBottom 2
SYMATTR InstName D1
SYMATTR Value RFU02VS8S
SYMBOL diode -96 112 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 64 95 VBottom 2
SYMATTR InstName D2
SYMATTR Value RFU02VS8S
SYMBOL diode -96 256 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 -15 47 VBottom 2
SYMATTR InstName D3
SYMATTR Value RFU02VS8S
SYMBOL diode -192 256 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 -15 27 VBottom 2
SYMATTR InstName D4
SYMATTR Value RFU02VS8S
SYMBOL zener 208 80 R90
WINDOW 0 -4 32 VBottom 2
WINDOW 3 36 32 VTop 2
SYMATTR InstName D5
SYMATTR Value EDZV6_8B
SYMBOL voltage -608 128 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
WINDOW 3 -229 4 Left 2
SYMATTR InstName V3
SYMATTR Value PULSE(0 100 10m 0 0 0 0 100)
SYMBOL res -496 16 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R5
SYMATTR Value 100
SYMBOL res -384 128 R0
SYMATTR InstName R6
SYMATTR Value 10
SYMBOL res 624 -48 R0
SYMATTR InstName R7
SYMATTR Value 1k
SYMBOL cap -128 144 R0
SYMATTR InstName C3
SYMATTR Value 100n
SYMATTR SpiceLine V=5kV
SYMBOL TL431ED 640 112 M0
WINDOW 3 -104 3 Left 2
SYMATTR InstName X1
SYMATTR Prefix X
TEXT -608 -72 Left 2 !.param R=100k
TEXT -608 -48 Left 2 !.tran 0.04s
TEXT -608 -96 Left 2 !.lib TL431ED.sub
